<div class="menu-body">
  <h1 class="mt-3 text-center">Mi perfil</h1>
  <div class="row">
    <div class="col-12 centering-box">
      <img class="foto-perfil" [src]="image">
    </div>

    <div class="col-12">
      <h3 class="mt-3 text-center">{{ user.nombre }}</h3>
    </div>

    <div class="col-12 centering-box mb-3">
      <div class="caja-content">
        <p class="text-center pt-3 px-3"><i class="bi bi-person-fill"></i> {{ user.usuario }} - <i class="bi bi-envelope-fill"></i> {{ user.correo }}</p>
        <p class="text-center"><i class="bi bi-house-door-fill"></i> {{ user.pais_nacimiento }} - <i class="bi bi-calendar-week-fill"></i> {{ user.fecha_nacimiento }}</p>
        <a class="edit-button" (click)="mostrarEdit()"><p class="text-center">Editar <i class="bi bi-pencil-fill"></i></p></a>
      </div>
    </div>

    <div class="col-12 centering-box mt-2 mb-3" *ngIf="edit">
      <div class="caja-content">
        <div class="mt-3 group-box">
          <form [formGroup]="editUserForm" (ngSubmit)="editUserFormSubmit()" class="mt-2">
            <div class="mb-3 form-floating long-box">
              <input formControlName="nombre" [class.is-invalid]="nombreField.touched && nombreField.invalid"
                type="text" class="form-control" id="nombre" placeholder="Nombre del usuario" required>
                <label for="nombre">Nombre</label>
              <div *ngIf="nombreField.touched && nombreField.hasError('required')" class="d-block invalid-feedback">Porfavor introduce tu nombre.</div>
            </div>
            <div class="mb-3 smaller-box">
              <input formControlName="fecha" [class.is-invalid]="fechaField.touched && fechaField.invalid"
                type="date" class="form-control" id="fecha" placeholder="" required>
              <div *ngIf="fechaField.touched && fechaField.hasError('required')" class="d-block invalid-feedback">Porfavor introduce tu fecha de nacimiento.</div>
            </div>
            <div class="mb-3 form-floating long-box">
              <input formControlName="pais" [class.is-invalid]="paisField.touched && paisField.invalid"
                type="text" class="form-control" id="pais" placeholder="País de nacimiento del usuario" required>
                <label for="pais">País de nacimiento</label>
              <div *ngIf="paisField.touched && paisField.hasError('required')" class="d-block invalid-feedback">Porfavor introduce tu país de nacimiento.</div>
            </div>
            <div class="mb-3 form-floating long-box">
              <input formControlName="usuario" [class.is-invalid]="usuarioField.touched && usuarioField.invalid"
                type="text" class="form-control" id="usuario" placeholder="Usuario" required>
                <label for="usuario">Usuario</label>
              <div *ngIf="usuarioField.touched && usuarioField.hasError('required')" class="d-block invalid-feedback">Porfavor introduce el usuario.</div>
            </div>
            <div class="mb-3 form-floating long-box">
              <input formControlName="email" [class.is-invalid]="emailField.touched && emailField.invalid"
                type="email" class="form-control" id="email" placeholder="Correo del usuario" required>
                <label for="email">E-mail</label>
              <div *ngIf="emailField.touched && emailField.hasError('required')" class="d-block invalid-feedback">Porfavor introduce el correo del usuario.</div>
            </div>
            <div class="mb-3 form-floating long-box">
              <input formControlName="password" [class.is-invalid]="passwordField.touched && passwordField.invalid"
                type="password" class="form-control" id="password" placeholder="Contraseña del usuario" required>
                <label for="password">Password</label>
              <div *ngIf="passwordField.touched && passwordField.hasError('required')" class="d-block invalid-feedback">Porfavor introduce una contraseña.</div>
            </div>

            <div class="mb-3 smaller-box">
              <input formControlName="imagen" type="file" class="form-control" id="imagen" placeholder="Seleccionar imagen de perfil del usuario"
              accept="image/png, image/jpeg, image/jpg, image/svg" (change)="onChange($event)">
            </div>

            <button [disabled]="editUserForm.invalid" type="submit" class="mt-3 btn aceptar-button">Cambiar</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
